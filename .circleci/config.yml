 version: 2

 workflows: # Define a Workflow running the build job, then the deploy job
   version: 2
   build-deploy:
     jobs:
       - build
       - deploy:
           requires:
             - build
           filters:
             branches:
               only: master # Only deploys when the commit is on the Master branch
 jobs:
   build:
     docker: # Specify executor for running build job - this example uses a Docker container
       - image: ubuntu # Specify docker image to use
         auth:
           username: mydockerhub-user
           password: $DOCKERHUB_PASSWORD  # context / project UI env-var reference
   ... # build job steps omitted for brevity
     
